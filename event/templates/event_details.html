{% extends 'base.html' %}
{% load i18n %}
{% block title %}Details of Event{% endblock title %}
{% block body %}
<div class='container'>
  <h1 id="moving-title" style="width: 53%; margin: auto;text-align: left; padding: 15px; font-size: 40px">
    Details Of Event
 </h1>
 <br>
  <div style="width: 53%; margin: auto;">
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div class="alert {% if message.tags == 'error' %}error{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}
  </div>
    <table class="table" style="width:50%; margin:auto; margin-top: 20px; margin-bottom: 10px;">
      <tbody>
          <tr>
              <th scope="row">Event ID:</th>
              <td>{{event.id}}</td>
          </tr>
          <tr>
              <th scope="row">Event user:</th>
              <td>{{event.eventUser}}</td>
          </tr>
          <tr>
              <th scope="row">Event creator's:</th>
              <td>{{event.eventOwnerName}}</td>
          </tr>
          <tr>
              <th scope="row">Event title:</th>
              <td>{{event.eventTitle}}</td>
          </tr>
          <tr>
            <th scope="row">Event date: </th>
            <td>{{event.eventDate}}</td>
          </tr>
          <tr>
            <th scope="row">Event time:</th>
            <td>{{event.eventTime}}</td>
          </tr>
          <tr>
            <th scope="row">Event seat:</th>
            <td>{{event.totalSeat}}</td>
          </tr>
          <tr>
            <th scope="row">Avaiable seat:</th>
            {% if available_seat <= 0 %}
            <td>{{available_seat}} <span style="color:red;">(Full)</span></td>
            {% else %}
            <td>{{available_seat}}</td>
            {% endif %}
          </tr>
          <tr>
            <th scope="row">Event location:</th>
            <td>{{event.eventLocation}}</td>
          </tr>
          <tr>
            <th scope="row">Event description:</th>
            <td>{{event.eventDescription}}</td>
          </tr>
          <tr>
            <th scope="row">Event create date:</th>
            <td>{{event.eventCreatedDate}}</td>
          </tr>
          <tr>
            <th scope="row">Event modify date:</th>
            <td>{{event.eventModifyDate}}</td>
          </tr>
          <!-- Add more rows as needed -->
      </tbody>
  </table>

    <table class="table table-success table-striped" style="width:95%; margin: auto; text-align: center; margin-top: 50px;">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Full name</th>
            <th scope="col">Email</th>
            <th scope="col">Mobile Number</th>
            <th scope="col">Total Person</th>
            <th scope="col">Details</th>   
          </tr>
        </thead>
        <tbody> 
          
        {% for gst in guests %}   
          <tr>      
            <th scope="row">{{gst.id}}</th>
            <td> {{gst.firstName}} {{gst.lastName}}</td>
            <td> {{gst.email}} </td>
            <td> {{gst.phoneNumber}} </td>
            <td> {{gst.totalPerson}} </td>          
            <td> <a href="{% url "guest_details" gst.id %}" class="btn btn-primary">Guest Details</a> </td>

          </tr>
        {% endfor %}
        </tbody>
      </table>
</div>

{% endblock body %}